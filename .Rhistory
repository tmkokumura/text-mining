getwd()
setwd("C:/Users/okumura.tomoki/RProject/tutorial/")
library(RMeCab)
RMeCabC("これならどうだ。")
install.packages("rvest")
?read_html
?read_html()
library(rvest)
?read_html()
jobs <- read_html("http://bookmeter.com/b/4062180731")
library(dplyr)
reviews <- jobs %>% html_nodes("div[id^ = 'review_text_']") %>% html_text()
reviews <- jobs %>% html_nodes("div#review_text_") %>% html_text()
reviews <- jobs %>% html_nodes("div.frame__content__text") %>% html_text()
library(magrittr)
reviews %>% extract(1)
reviews %>% extract(2)
reviews %>% extract(3)
reviews %>% extract(4)
reviews %>% extract(5)
jobs <- html("http://bookmeter.com/b/4062180731")
jobs <- read_html("http://bookmeter.com/b/4062180731")
View(jobs)
View(jobs)
jobs <- read_html("https://bookmeter.com/books/5550353")
reviews <- jobs %>% html_nodes("div.frame__content__text") %>% html_text()
View(jobs)
reviews %>% extract(1)
reviews %>% extract(2)
reviews <- jobs[1] %>% html_nodes("div.frame__content__text") %>% html_text()
View(jobs)
reviews <- jobs %>% html_nodes("div.frame__content__text") %>% html_text()
jobs
reviews <- jobs %>% html_nodes(css = ".frame__content__text") %>% html_text()
reviews %>% extract(1)
reviews %>% extract(0)
reviews %>% extract(1)
reviews <- jobs %>% html_nodes(css = ".frame__content__text")
reviews
View(jobs)
jobs
jobs <- read_html("http://okumuratomoki.com/")
View(jobs)
jobs
reviews <- jobs %>% html_nodes(css = "header__blog-title")
View(jobs)
View(reviews)
reviews <- jobs %>% html_nodes(css = ".header__blog-title")
reviews <- jobs %>% html_nodes(css = ".header__blog-title") %>% html_text()
jobs <- read_html("https://bookmeter.com/books/5550353")
reviews <- jobs %>% html_nodes(".header__blog-title span") %>% html_text()
reviews <- jobs %>% html_nodes(".frame__content__text span") %>% html_text()
jobs <- read_html("https://bookmeter.com/books/5550353", encoding = "UTF-8")
reviews <- jobs %>% html_nodes(".frame__content__text span") %>% html_text()
reviews <- jobs %>% html_nodes(xpath = ".frame__content__text span") %>% html_text()
reviews <- jobs %>% html_nodes(xpath = "//.frame__content__text") %>% html_text()
reviews <- jobs %>% html_nodes(".frame__content__text") %>% html_text()
reviews <- jobs %>% html_nodes("#frame__content__text") %>% html_text()
reviews <- jobs %>% html_nodes("#frame__content__text span") %>% html_text()
reviews <- jobs %>% html_nodes(".frame__content__text span") %>% html_text()
reviews <- jobs %>% html_nodes("div.frame__content__text span") %>% html_text()
reviews <- jobs %>% html_nodes("div .frame__content__text span") %>% html_text()
reviews <- jobs %>% html_nodes("frame__content__text__netabare-icon") %>% html_text()
reviews <- jobs %>% html_nodes(".frame__content__text__netabare-icon") %>% html_text()
reviews <- jobs %>% html_nodes(".frame__content__text span") %>% html_text()
reviews <- jobs %>% html_nodes(".frame__content__text > span") %>% html_text()
reviews <- jobs %>% html_nodes(".frame__content__text >> span") %>% html_text()
reviews <- jobs %>% html_nodes(".frame__content__text span") %>% html_text()
jobs
View(jobs)
jobs <- read_html("https://www.amazon.co.jp/%E3%83%9A%E3%83%B3%E3%82%AE%E3%83%B3%E3%83%BB%E3%83%8F%E3%82%A4%E3%82%A6%E3%82%A7%E3%82%A4-%E8%A7%92%E5%B7%9D%E6%96%87%E5%BA%AB-%E6%A3%AE%E8%A6%8B-%E7%99%BB%E7%BE%8E%E5%BD%A6-ebook/dp/B00AR76UAU/ref=lp_2220134051_1_1?s=books&ie=UTF8&qid=1535713741&sr=1-1", encoding = "UTF-8")
jobs
reviews <- jobs %>% html_nodes("div.a-expander-content.a-expander-partial-collapse-content") %>% html_text()
library(RMeCab)
reviews %>% extract2(1) %>% RmeCabC() %>% unlist()
reviews %>% extract2(1) %>% RMeCabC() %>% unlist()
review
reviews
Sys.getlocale()
Sys.setlocale("LC_CTYPE","ja_JP.UTF-8")
Sys.getlocale()
jobs <- read_html("https://www.amazon.co.jp/%E3%83%9A%E3%83%B3%E3%82%AE%E3%83%B3%E3%83%BB%E3%83%8F%E3%82%A4%E3%82%A6%E3%82%A7%E3%82%A4-%E8%A7%92%E5%B7%9D%E6%96%87%E5%BA%AB-%E6%A3%AE%E8%A6%8B-%E7%99%BB%E7%BE%8E%E5%BD%A6-ebook/dp/B00AR76UAU/ref=lp_2220134051_1_1?s=books&ie=UTF8&qid=1535713741&sr=1-1", encoding = "Shift-JIS")
jobs <- read_html("https://www.amazon.co.jp/%E3%83%9A%E3%83%B3%E3%82%AE%E3%83%B3%E3%83%BB%E3%83%8F%E3%82%A4%E3%82%A6%E3%82%A7%E3%82%A4-%E8%A7%92%E5%B7%9D%E6%96%87%E5%BA%AB-%E6%A3%AE%E8%A6%8B-%E7%99%BB%E7%BE%8E%E5%BD%A6-ebook/dp/B00AR76UAU/ref=lp_2220134051_1_1?s=books&ie=UTF8&qid=1535713741&sr=1-1", encoding = "sjis")
jobs <- read_html("https://www.amazon.co.jp/%E3%83%9A%E3%83%B3%E3%82%AE%E3%83%B3%E3%83%BB%E3%83%8F%E3%82%A4%E3%82%A6%E3%82%A7%E3%82%A4-%E8%A7%92%E5%B7%9D%E6%96%87%E5%BA%AB-%E6%A3%AE%E8%A6%8B-%E7%99%BB%E7%BE%8E%E5%BD%A6-ebook/dp/B00AR76UAU/ref=lp_2220134051_1_1?s=books&ie=UTF8&qid=1535713741&sr=1-1")
reviews <- jobs %>% html_nodes("div.a-expander-content.a-expander-partial-collapse-content") %>% html_text()
reviews
reviews %>% extract2(1) %>% RMeCabC() %>% unlist()
reviews <- iconv(reviews,from="UTF-8",to="Shft-JIS")
iconvlist()
reviews <- iconv(reviews,from="UTF-8",to="shift-jis")
reviews %>% extract2(1) %>% RMeCabC() %>% unlist()
jobs <- read_html("https://www.amazon.co.jp/%E3%83%9A%E3%83%B3%E3%82%AE%E3%83%B3%E3%83%BB%E3%83%8F%E3%82%A4%E3%82%A6%E3%82%A7%E3%82%A4-%E8%A7%92%E5%B7%9D%E6%96%87%E5%BA%AB-%E6%A3%AE%E8%A6%8B-%E7%99%BB%E7%BE%8E%E5%BD%A6-ebook/dp/B00AR76UAU/ref=lp_2220134051_1_1?s=books&ie=UTF8&qid=1535713741&sr=1-1", encoding = "shift-jis")
jobs <- read_html("https://www.amazon.co.jp/%E3%83%9A%E3%83%B3%E3%82%AE%E3%83%B3%E3%83%BB%E3%83%8F%E3%82%A4%E3%82%A6%E3%82%A7%E3%82%A4-%E8%A7%92%E5%B7%9D%E6%96%87%E5%BA%AB-%E6%A3%AE%E8%A6%8B-%E7%99%BB%E7%BE%8E%E5%BD%A6-ebook/dp/B00AR76UAU/ref=lp_2220134051_1_1?s=books&ie=UTF8&qid=1535713741&sr=1-1", encoding = "UTF-8")
reviews %>% extract2(1) %>% RMeCabC() %>% iconv(reviews,from="UTF-8",to="shft-jis") %>% unlist()
reviews %>% extract2(1) %>% RMeCabC() %>% iconv(from="UTF-8",to="shft-jis") %>% unlist()
reviews %>% extract2(1) %>% RMeCabC() %>% unlist()
morphemes = reviews %>% extract2(1) %>% RMeCabC() %>% unlist()
ft = docDF(morphemes, type = 1, pos = c("名詞", "形容詞", "動詞"))
?docDF
morphemes <- reviews %>% extract2(1) %>% RMeCabC() %>% unlist()
morphemes
mode(morphemes)
tmp <- c(1:10)
mode(tmp)
writeLines(reviews, "data/reviews.txt")
